<!DOCTYPE html>
<html>
<head>
  <title>Zoe's Animal Quetionnaire!</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <link rel="stylesheet" href="screen.css">

  <script type="text/javascript">
    $(document).ready(function() {
      // Create an array of our animals
      var animals = [
        { name: "Red Panda", emoji: "ðŸ¼" },
        { name: "Beta Fish", emoji: "ðŸŸ" },
        { name: "Polar Bear", emoji: "ðŸ»" },
        { name: "Squirrel", emoji: "ðŸ¿" },
        { name: "Osprey", emoji: "ðŸ¦…" },
        { name: "Iguana", emoji: "ðŸ¦Ž" },
        { name: "Bobcat", emoji: "ðŸˆ" },
        { name: "Zebra", emoji: "ðŸ¦“" }
      ]

      var answers = []

      // var answers = [
      //   // Question 1: YES
      //   ["Red Panda", "Polar Bear", "Squirrel", "Bobcat", "Zebra"],
      //
      //   // Question 2: Cheetahs
      //   ["Zebra", "Bobcat"],
      //
      //   // Question 3: Alligator
      //   ["Osprey", "Iguana"]
      // ]
      //
      // var mergedAnswers = [].concat.apply([], answers)
      //
      // console.log(mode(mergedAnswers))

      $(document).on("change", "input[type=radio]", function(event) {
        answers.push(event.target.value.split(","))
        console.log(answers)
      })

      $(document).on("click", "[data-behavior~=resolve-answer]", function(event) {
        console.log(mode([].concat.apply([], answers)))
        event.preventDefault()
      })
    })

    // Find the most frequent, unique item in the merged array
    function mode(arr){
      return arr.sort((a,b) =>
          arr.filter(v => v===a).length
        - arr.filter(v => v===b).length
      ).pop()
    }
  </script>
</head>

<body>
  <div class="container">
    <h1>Which Animal are You?</h1>
    <p>
      Answer the questions below and weâ€™ll figure out which animal you are.
      Be sure to answer every question so the zookeeper can do her magic!
    </p>

    <form action="#" method="">
      <section class="question">
        <fieldset>
          <legend><strong>Do you like mammals?</strong></legend>
          <dl>
            <dd><label><input type="radio" name="question[mammals]" value="Red Panda,Polar Bear,Squirrel,Bobcat,Zebra"> Yes</label></dd>
            <dd><label><input type="radio" name="question[mammals]" value="Beta Fish,Osprey,Iguana"> No</label></dd>
          </dl>
        </fieldset>
      </section>

      <section class="question">
        <fieldset>
          <legend><strong>Which cat do you like better?</strong></legend>
          <dl>
            <dd><label><input type="radio" name="question[bigcats]" value="Beta Fish,Bobcat"> Tigers</label></dd>
            <dd><label><input type="radio" name="question[bigcats]" value="Zebra,Bobcat"> Cheetahs</label></dd>
            <dd><label><input type="radio" name="question[bigcats]" value="Iguana,Bobcat"> Jaguars</label></dd>
          </dl>
        </fieldset>
      </section>

      <section class="question">
        <fieldset>
          <legend><strong>Which reptile do you like better?</strong></legend>
          <dl>
            <dd><label><input type="radio" name="question[reptiles]" value="Iguana,Osprey"> Alligator</label></dd>
            <dd><label><input type="radio" name="question[reptiles]" value="Iguana,Jaguar"> Crocodile</label></dd>
            <dd><label><input type="radio" name="question[reptiles]" value="Iguana,Squirrel"> Turtle</label></dd>
          </dl>
        </fieldset>
      </section>

      <section class="question">
        <fieldset>
          <legend><strong>Do you like rodents?</strong></legend>
          <dl>
            <dd><label><input type="radio" name="question[rodents]"> Yes</label></dd>
            <dd><label><input type="radio" name="question[rodents]"> No</label></dd>
          </dl>
        </fieldset>
      </section>

      <section class="question">
        <fieldset>
          <legend><strong>What's better?</strong></legend>
          <dl>
            <dd><label><input type="radio" name="question[texture]"> Leathery</label></dd>
            <dd><label><input type="radio" name="question[texture]"> Feathery</label></dd>
            <dd><label><input type="radio" name="question[texture]"> Fuzzy</label></dd>
            <dd><label><input type="radio" name="question[texture]"> Slippery</label></dd>
          </dl>
        </fieldset>
      </section>

      <section class="question">
        <fieldset>
          <legend><strong>Where would you rather live?</strong></legend>
          <dl>
            <dd><label><input type="radio" name="question[location]"> In the Arctic</label></dd>
            <dd><label><input type="radio" name="question[location]"> At the equator</label></dd>
            <dd><label><input type="radio" name="question[location]"> Somewhere in between</label></dd>
          </dl>
        </fieldset>
      </section>

      <section class="question">
        <fieldset>
          <legend><strong>Are you a day person or a nigh person?</strong></legend>
          <dl>
            <dd><label><input type="radio" name="question[daynight]"> Day</label></dd>
            <dd><label><input type="radio" name="question[daynight]"> Night</label></dd>
          </dl>
        </fieldset>
      </section>

      <section class="question">
        <fieldset>
          <legend><strong>Which is tastier?</strong></legend>
          <dl>
            <dd><label><input type="radio" name="question[taste]"> Meat</label></dd>
            <dd><label><input type="radio" name="question[taste]"> Vegetables</label></dd>
            <dd><label><input type="radio" name="question[taste]"> Insects</label></dd>
            <dd><label><input type="radio" name="question[taste]"> Insects</label></dd>
          </dl>
        </fieldset>
      </section>

      <footer class="submit-buttons">
        <p>
          <input type="submit" value="Sort me now!" data-behavior="resolve-answer">
        </p>
      </footer>
    </form>
  </div>
</body>
